(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},19:function(e,t,n){e.exports=n(36)},26:function(e,t,n){},27:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(10),c=n.n(r),o=n(16),i=n(1),u=n(2),s=n(17),m=n(11),p=n(18),d=n(12),h=n.n(d),f=n(4),E=n.n(f),b=n(13),g=new(function(){function e(){Object(i.a)(this,e),this.host="localhost"}return Object(u.a)(e,[{key:"canApply",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.host+"/admin.php?w=cando",{method:"get",redirect:"follow",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!JSON.parse(n).success){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"submitApplication",value:function(e){fetch(this.host+"/form_submit.php",{body:e,method:"POST",redirect:"follow",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return JSON.parse(e).success?(alert("Application Submitted"),!0):(alert("An error occurred while submitting application"),!1)})}},{key:"getApplications",value:function(){fetch(this.host+"/admin.php?w=get",{method:"GET",redirect:"follow",credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(JSON.parse(e).success){var t={},n=e.data;return t.firstName=n.fname,t.lastName=n.lname,t.phone=n.phone,t.email=n.email,t.coverLetter=n.cover,t.passport=n.passport,t.resume=n.resume,t}return!1})}},{key:"login",value:function(e){fetch(this.host+"/admin.php?w=login",{body:e,method:"POST",redirect:"follow",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return!!JSON.parse(e).success})}}]),e}());function w(e){return l.a.createElement("form",{id:"appform",onSubmit:function(t){t.preventDefault(),t.stopPropagation(),g.submitApplication(new FormData(document.getElementById("appform"))),e.onSubmit()},action:"/form_submit.php",method:"post",encType:"mutipart/form-data",name:"userform"},l.a.createElement("p",null,"Enter your details below to apply for the role of a software engineer."),l.a.createElement("label",null,"First name:",l.a.createElement("input",{name:"fname",type:"text"})),l.a.createElement("label",null,"Surname:",l.a.createElement("input",{name:"lname",type:"text"})),l.a.createElement("label",null,"Phone number:",l.a.createElement("input",{name:"phone",type:"tel"})),l.a.createElement("label",null,"Email address:",l.a.createElement("input",{name:"email",type:"mail"})),l.a.createElement("label",null,"Cover letter:",l.a.createElement("textarea",{name:"cover"})),l.a.createElement("label",null,"Passport:",l.a.createElement("input",{type:"img",name:"passport",accept:"jpg,jpeg"})),l.a.createElement("label",null,"Resume:",l.a.createElement("input",{type:"file",name:"resume",accept:"pdf,doc,docx"})),l.a.createElement("button",{type:"submit"},"Submit"))}n(26);function y(e){return React.createElement("form",{id:"login",onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.onLogin(g.login(new FormData(document.getElementById("login"))))},method:"post",action:"/admin.php?w=login",name:"adminlogin"},React.createElement("label",null,"username",React.createElement("input",{name:"username"})),React.createElement("label",null,"password",React.createElement("input",{type:"password",name:"password"})),React.createElement("button",{type:"submit"},"Submit"))}function v(e){return React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Full Name"),React.createElement("th",null,"Phone Number"),React.createElement("th",null,"Email Address"),React.createElement("th",null,"Cover Letter"),React.createElement("th",null,"Passport"),React.createElement("th",null,"Resume"))),React.createElement("tbody",null,e.applications.map(function(e){return React.createElement("tr",null,React.createElement("td",null,"".concat(e.firstName," ").concat(e.lastName)),React.createElement("td",null,"".concat(e.phone)),React.createElement("td",null,"".concat(e.email)),React.createElement("td",null,"".concat(e.coverLetter)),React.createElement("td",null,React.createElement("img",{src:"".concat(e.passport),alt:"".concat(e.passport)})),React.createElement("td",null,React.createElement("a",{href:"".concat(e.resume)},"$",e.resume)))})))}var R=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={canApply:!1,isAdmin:!1,applications:[],showAdminLogin:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"check",value:function(){var e=this;g.canApply().then(function(t){return e.setState({canApply:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:h.a,className:"App-logo",alt:"logo"}),l.a.createElement("p",null,"Welcome to Adio Consulting Group"),"//@ts-ignore",this.state.isAdmin?null:l.a.createElement("button",{onClick:function(){e.setState({showAdminLogin:!0})}},"Admin Login"),this.state.showAdminLogin?l.a.createElement(y,null):null),this.state.isAdmin?l.a.createElement("section",null,l.a.createElement(v,{applications:this.state.applications}),"//@ts-ignore",l.a.createElement("button",{onClick:function(){return g.getApplications().then(function(t){return e.setState({applications:t})})}},"Reload")):l.a.createElement("section",null,this.state.canApply?l.a.createElement(w,{onSubmit:function(){return e.check}}):l.a.createElement("div",null,l.a.createElement("p",null,"Application Closed"))))}}]),t}(l.a.Component);n(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(o.a,null,l.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.245d16ac.chunk.js.map